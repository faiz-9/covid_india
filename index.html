<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js">


  <title>COVID IN INDIA</title>
</head>
<body>
  
</body>
</html>



<style type="text/css">
	
	*{
		margin:0;
		padding:0;
		box-sizing:border-box;
	}

</style>


	<div class="container mb-4 ">

			<h3 class="text-center my-3" 
			style="font-family:serif;font-weight:900;color:black"> CORONA VIRUS LIVE STATUS OF TOP INFECTED STATES OF INDIA USING API </h3>

			<button class="HR btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline;">Haryana</button>
			<button class="MH btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Maharashtra</button>
			<button class="GJ btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Gujarat</button>
			<button class="AP btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Andhra Pradesh</button>
			<button class="AR btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Arunachal Pradesh</button>
			<button class="AS btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Assam</button>
			<button class="BR btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Bihar</button>
			<button class="KL btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Kerala</button>
			<button class="KA btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Karnataka</button>
			<button class="TN btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Tamil Nadu</button>
			<button class="UP btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Uttar Pradesh</button>
			<button class="DL btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Delhi</button>
			<button class="WB btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">West Bengal</button>
			<button class="RJ btn" style="background:#EFCF9C;color:#123A29;margin:6px;display:inline">Rajasthan</button>
	</div>


<div class="heading ">
			
	<div class="table-responsive container">
		<table id="table" class= "table table-bordered table-striped"></table>
	</div>

</div>




<script type="text/javascript">
	



function corona(state,statecode){

	try{

		document.querySelector(`.${statecode}`).addEventListener('click',async()=>{



		let api = await fetch('https://api.covid19india.org/state_district_wise.json');
		let final_api = await api.json();

		console.log(final_api);		
		// console.log(code);

		let country = final_api[`${state}`].districtData;

		let output = `

		<h4 class='my-4'>${state}</h4>
		<tr>
					<td style='color:grey'>CITIES</td>
					<td style='color:orange'>CONFIRMED</td>
					<td style='color:purple'>ACTIVE CASES</td>
					<td style='color:green'>RECOVERED</td>
					<td style='color:red'>DEATHS</td>
					
				</tr>`;

		for(i in country){
			console.log(i);
			  output+=`<tr>
			  						<td>${i}</td>
			  						 <td>${country[i].confirmed}
                                     <td>${country[i].active}</td>
                                    <td>${country[i].recovered}
                                    <td>${country[i].deceased}</td>
                                    

                           </tr>`  
		}			

		console.log(output);
		
		console.log(country);
		document.getElementById('table').innerHTML = output;

		})	

	}catch(error){
		console.log(error);
	}
	

}


corona('Haryana','HR');
corona('Maharashtra','MH');
corona('Gujarat','GJ');
corona('Andhra Pradesh','AP');
corona('Arunachal Pradesh','AR');
corona('Assam','AS');
corona('Bihar','BR');
corona('Kerala','KL');
corona('Karnataka','KA');
corona('Tamil Nadu','TN');
corona('Uttar Pradesh','UP');
corona('Delhi','DL');
corona('West Bengal','WB');
corona('Rajasthan','RJ');





















</script>